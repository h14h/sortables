#!/bin/bash

# Check if todos.txt exists, create if it doesn't
if [ ! -f "todos.txt" ]; then
    touch todos.txt
fi

# Check if any arguments were provided
if [ $# -eq 0 ]; then
    echo "Usage: $0 <todo item>"
    echo "Example: $0 Buy groceries and pick up dry cleaning"
    exit 1
fi

# Join all arguments into a single string
todo_item="$*"

# Create temporary file
temp_file=$(mktemp)

# Add the new todo item to the top of the temp file
echo "- $todo_item" > "$temp_file"

# Append existing todos.txt content to temp file
if [ -s "todos.txt" ]; then
    cat todos.txt >> "$temp_file"
fi

# Replace todos.txt with temp file
mv "$temp_file" todos.txt

echo "Added todo: $todo_item"
